<!DOCTYPE html>
<html>
  <body>
    <!-- çŒœæ•°å­—æ¸¸æˆï¼ˆå‡çº§ç‰ˆï¼‰ -->
<div class="guess-game">
  <h3>ğŸ® çŒœæ•°å­—å¤§æŒ‘æˆ˜ï¼1 - 100 ç­‰ä½ å¾æœ</h3>
  <p>è§„åˆ™ï¼šç³»ç»Ÿç”Ÿæˆ 1-100 éšæœºæ•°ï¼Œä½ æœ‰ <span id="chance">10</span> æ¬¡æœºä¼šï¼Œè¯•è¯•èƒ½çŒœä¸­å—ï¼Ÿ</p >
  <input type="number" id="guessInput" placeholder="è¾“å…¥ 1-100 çš„æ•°å­—" min="1" max="100">
  <button onclick="checkGuess()">æäº¤çŒœæµ‹</button>
  <button onclick="resetGame()">é‡æ–°å¼€å§‹</button>
  <p id="result" class="result-tip"></p >
  <p id="history" class="history">å·²çŒœæ•°å­—ï¼š</p >
</div>

<style>
  .guess-game {
    background: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    max-width: 500px;
    margin: 20px auto;
  }
  .result-tip {
    margin: 10px 0;
    padding: 8px;
    border-radius: 4px;
  }
  .history {
    color: #666;
    font-size: 14px;
  }
  input, button {
    margin: 8px 0;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  button {
    cursor: pointer;
    background: #4CAF50;
    color: white;
    border: none;
    transition: background 0.3s;
  }
  button:hover {
    background: #45a049;
  }
</style>

<script>
  let target = Math.floor(Math.random() * 100) + 1; // ç›®æ ‡æ•°å­—
  let chances = 10; // åˆå§‹æœºä¼š
  const historyList = []; // å­˜å‚¨å·²çŒœæ•°å­—

  function checkGuess() {
    const guess = parseInt(document.getElementById("guessInput").value);
    const resultDom = document.getElementById("result");
    const chanceDom = document.getElementById("chance");
    const historyDom = document.getElementById("history");

    // è¾“å…¥æ ¡éªŒ
    if (isNaN(guess) || guess < 1 || guess > 100) {
      resultDom.innerText = "âš ï¸ è¯·è¾“å…¥ 1-100 ä¹‹é—´çš„æœ‰æ•ˆæ•°å­—ï¼";
      resultDom.style.background = "#ffe6e6";
      return;
    }

    // é‡å¤çŒœæµ‹æç¤º
    if (historyList.includes(guess)) {
      resultDom.innerText = `ğŸ™… ä½ å·²ç»çŒœè¿‡ ${guess} å•¦ï¼Œæ¢ä¸ªæ•°å­—è¯•è¯•ï¼`;
      resultDom.style.background = "#fff3cd";
      return;
    }

    // è®°å½•çŒœæµ‹
    historyList.push(guess);
    historyDom.innerText = `å·²çŒœæ•°å­—ï¼š${historyList.join("ã€")}`;
    chances--;
    chanceDom.innerText = chances;

    // ç»“æœåˆ¤æ–­
    if (guess === target) {
      resultDom.innerText = `ğŸ‰ æ­å–œçŒœå¯¹å•¦ï¼ç›®æ ‡æ•°å­—å°±æ˜¯ ${target}ï¼Œå‰©ä½™ ${chances} æ¬¡æœºä¼š`;
      resultDom.style.background = "#d4edda";
      showRestartTip(); // æç¤ºé‡æ–°å¼€å§‹
    } else if (chances === 0) {
      resultDom.innerText = `ğŸ’¥ æœºä¼šç”¨å®Œå•¦ï¼æ­£ç¡®æ•°å­—æ˜¯ ${target}ï¼Œç‚¹å‡»â€œé‡æ–°å¼€å§‹â€å†æŒ‘æˆ˜å§ï½`;
      resultDom.style.background = "#f8d7da";
      document.getElementById("guessInput").disabled = true; // ç¦ç”¨è¾“å…¥
    } else if (guess < target) {
      resultDom.innerText = `ğŸ“‰ çŒœå°å•¦ï¼è¿˜å‰© ${chances} æ¬¡æœºä¼šï¼Œç»§ç»­åŠ æ²¹ï½`;
      resultDom.style.background = "#e2f0cb";
    } else {
      resultDom.innerText = `ğŸ“ˆ çŒœå¤§å•¦ï¼è¿˜å‰© ${chances} æ¬¡æœºä¼šï¼Œè°ƒæ•´ä¸€ä¸‹ï½`;
      resultDom.style.background = "#cfe8f7";
    }

    // æ¸…ç©ºè¾“å…¥æ¡†
    document.getElementById("guessInput").value = "";
  }

  // é‡æ–°å¼€å§‹æ¸¸æˆ
  function resetGame() {
    target = Math.floor(Math.random() * 100) + 1;
    chances = 10;
    historyList.length = 0; // æ¸…ç©ºå†å²
    document.getElementById("chance").innerText = chances;
    document.getElementById("result").innerText = "";
    document.getElementById("history").innerText = "å·²çŒœæ•°å­—ï¼š";
    document.getElementById("guessInput").disabled = false; // å¯ç”¨è¾“å…¥
    document.getElementById("guessInput").value = "";
  }

  // çŒœå¯¹åæç¤º
  function showRestartTip() {
    setTimeout(() => {
      if (window.confirm("ğŸ‰ æ­å–œé€šå…³ï¼è¦å†æ¥ä¸€è½®æŒ‘æˆ˜å—ï¼Ÿ")) {
        resetGame();
      }
    }, 1000);
  }
</script>
    <!-- é¼ æ ‡è·Ÿéšå°å°¾å·´ -->
<div id="follower" style="position: fixed; width: 20px; height: 20px; 
                          background: linear-gradient(45deg, #ff6b6b, #4ecdc4); 
                          border-radius: 50%; pointer-events: none; z-index: 9999;"></div>
<script>
  document.addEventListener("mousemove", (e) => {
    const follower = document.getElementById("follower");
    follower.style.left = e.clientX + "px";
    follower.style.top = e.clientY + "px";
  });
</script>
    <!-- å¤œé—´æ¨¡å¼åˆ‡æ¢ -->
<button onclick="toggleDarkMode()">åˆ‡æ¢å¤œé—´æ¨¡å¼</button>
<style>
  .dark-mode {
    background-color: #121212;
    color: #fff;
  }
</style>
<script>
  function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");
  }
</script>
  </body>
</html>
